<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test: Kitchen Sink (Comprehensive)</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 { color: #1a1a1a; border-bottom: 3px solid #f44336; padding-bottom: 10px; }
    .intro { background: #ffebee; padding: 15px; border-left: 4px solid #f44336; margin: 20px 0; }
    .section { background: white; border: 1px solid #ddd; border-radius: 8px; margin: 20px 0; padding: 20px; }
    .section h2 { color: #333; margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; }
    .sr-only { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }
    .d-none { display: none; }
    pre { background: #263238; color: #aed581; padding: 10px; border-radius: 4px; }
  </style>
</head>
<body>

<!--
================================================================================
TEST FILE METADATA
================================================================================
FILE: kitchen-sink.html
PURPOSE: Comprehensive regression test combining ALL extraction patterns
TECHNICAL: Samples from every test category in one file
TEST COUNT: Multiple patterns from each category
EXPECTED RESULT: Quick validation that entire extraction pipeline works
UPDATED: 2025-12-22
================================================================================
-->

  <h1>Kitchen Sink Test (Comprehensive)</h1>

  <div class="intro">
    <p><strong>Purpose:</strong> Quick validation that the entire extraction pipeline works correctly.</p>
    <p><strong>Contents:</strong> Samples from hidden content, Shadow DOM, whitespace, preformatted, semantic blocks, modals, and accordions.</p>
    <p><strong>Usage:</strong> Run this single file to verify nothing is broken. If this passes, use focused tests to debug specific issues.</p>
  </div>

  <!-- ===================================================================== -->
  <!-- HIDDEN CONTENT SAMPLES                                                -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Hidden Content Samples</h2>

    <p>Visible text before hidden content.</p>

    <div style="display: none;">
      Kitchen Sink Hidden 1 passed: This content is hidden with display:none.
    </div>

    <div style="visibility: hidden;">
      Kitchen Sink Hidden 2 passed: This content is hidden with visibility:hidden.
    </div>

    <div style="opacity: 0;">
      Kitchen Sink Hidden 3 passed: This content is hidden with opacity:0.
    </div>

    <span class="sr-only">Kitchen Sink Hidden 4 passed: Screen reader only content.</span>

    <p>Visible text after hidden content.</p>
  </div>

  <!-- ===================================================================== -->
  <!-- SHADOW DOM SAMPLE                                                     -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Shadow DOM Sample</h2>
    <p>Light DOM content before web component.</p>
    <kitchen-sink-component></kitchen-sink-component>
    <p>Light DOM content after web component.</p>
  </div>

  <script>
    class KitchenSinkComponent extends HTMLElement {
      constructor() {
        super();
        const shadow = this.attachShadow({mode: 'open'});
        shadow.innerHTML = `
          <div style="background: #e3f2fd; padding: 10px; border-radius: 4px;">
            <p>Kitchen Sink Shadow DOM passed: Content inside open shadow root.</p>
            <div style="display: none;">
              Kitchen Sink Shadow Hidden passed: Hidden content INSIDE shadow DOM.
            </div>
          </div>
        `;
      }
    }
    customElements.define('kitchen-sink-component', KitchenSinkComponent);
  </script>

  <!-- ===================================================================== -->
  <!-- WHITESPACE SAMPLES                                                    -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Whitespace Samples</h2>

    <p>Kitchen Sink Whitespace 1 passed:     Multiple     spaces     should     collapse.</p>

    <p>Kitchen Sink Whitespace 2 passed: First paragraph.</p>
    <p>Second paragraph should have break.</p>

    <ul>
      <li>Kitchen Sink Whitespace 3 passed: List item 1</li>
      <li>List item 2</li>
    </ul>
  </div>

  <!-- ===================================================================== -->
  <!-- PREFORMATTED SAMPLE                                                   -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Preformatted Sample</h2>
    <p>Kitchen Sink Preformatted passed: Code block below:</p>
<pre>
function test() {
    const    x   =   1;
    return x;
}
</pre>
  </div>

  <!-- ===================================================================== -->
  <!-- SEMANTIC BLOCKS SAMPLE                                                -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Semantic Blocks Sample</h2>

    <h3>Kitchen Sink Semantic 1 passed: Heading</h3>
    <p>Paragraph content.</p>

    <div>Kitchen Sink Semantic 2 passed: DIV block</div>
    <span>Inline span</span> <span>Another span</span>

    <p>Line with<br>Kitchen Sink Semantic 3 passed: BR element</p>
  </div>

  <!-- ===================================================================== -->
  <!-- MODAL PATTERN SAMPLE                                                  -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Modal Pattern Sample</h2>

    <div style="background: #fff3e0; padding: 15px; border-radius: 4px;">
      <h3>Benefit Card Title</h3>
      <button>Learn More</button>
      <div class="d-none">
        <h4>Modal Title</h4>
        <p>Kitchen Sink Modal passed: This is hidden modal content like Marriott's benefit descriptions.</p>
      </div>
    </div>
  </div>

  <!-- ===================================================================== -->
  <!-- ACCORDION PATTERN SAMPLE                                              -->
  <!-- ===================================================================== -->

  <div class="section">
    <h2>Accordion Pattern Sample</h2>

    <div style="border: 1px solid #ddd; border-radius: 4px;">
      <div style="background: #f5f5f5; padding: 10px; font-weight: bold;">Expanded Section</div>
      <div style="padding: 10px;">
        Kitchen Sink Accordion 1 passed: Expanded section content.
      </div>
    </div>

    <div style="border: 1px solid #ddd; border-radius: 4px; margin-top: 10px;">
      <div style="background: #f5f5f5; padding: 10px; font-weight: bold;">Collapsed Section</div>
      <div style="padding: 10px; display: none;">
        Kitchen Sink Accordion 2 passed: Collapsed section content (hidden).
      </div>
    </div>
  </div>

  <!-- ===================================================================== -->
  <!-- VALIDATION                                                            -->
  <!-- ===================================================================== -->

  <footer style="margin-top: 40px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
    <h2>Validation Checklist</h2>
    <p>After running <code>get_page_text()</code>, verify ALL of these appear:</p>

    <h3>Hidden Content (4)</h3>
    <ul>
      <li>"Kitchen Sink Hidden 1 passed" - display:none</li>
      <li>"Kitchen Sink Hidden 2 passed" - visibility:hidden</li>
      <li>"Kitchen Sink Hidden 3 passed" - opacity:0</li>
      <li>"Kitchen Sink Hidden 4 passed" - sr-only</li>
    </ul>

    <h3>Shadow DOM (2)</h3>
    <ul>
      <li>"Kitchen Sink Shadow DOM passed" - shadow root content</li>
      <li>"Kitchen Sink Shadow Hidden passed" - hidden in shadow</li>
    </ul>

    <h3>Whitespace (3)</h3>
    <ul>
      <li>"Kitchen Sink Whitespace 1 passed" - space collapse</li>
      <li>"Kitchen Sink Whitespace 2 passed" - paragraph breaks</li>
      <li>"Kitchen Sink Whitespace 3 passed" - list items</li>
    </ul>

    <h3>Preformatted (1)</h3>
    <ul>
      <li>"Kitchen Sink Preformatted passed" - code block</li>
    </ul>

    <h3>Semantic (3)</h3>
    <ul>
      <li>"Kitchen Sink Semantic 1 passed" - heading</li>
      <li>"Kitchen Sink Semantic 2 passed" - DIV block</li>
      <li>"Kitchen Sink Semantic 3 passed" - BR element</li>
    </ul>

    <h3>Modal (1)</h3>
    <ul>
      <li>"Kitchen Sink Modal passed" - hidden modal</li>
    </ul>

    <h3>Accordion (2)</h3>
    <ul>
      <li>"Kitchen Sink Accordion 1 passed" - expanded</li>
      <li>"Kitchen Sink Accordion 2 passed" - collapsed</li>
    </ul>

    <p><strong>Total: 16 validation strings</strong></p>
    <p>If all 16 appear, the extraction pipeline is working correctly.</p>
  </footer>

</body>
</html>